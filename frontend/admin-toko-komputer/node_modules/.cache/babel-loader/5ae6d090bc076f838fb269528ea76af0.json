{"ast":null,"code":"import _classCallCheck from\"E:/XI RPL/Code/Node JS/toko-komputer/frontend/admin-toko-komputer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/XI RPL/Code/Node JS/toko-komputer/frontend/admin-toko-komputer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/XI RPL/Code/Node JS/toko-komputer/frontend/admin-toko-komputer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/XI RPL/Code/Node JS/toko-komputer/frontend/admin-toko-komputer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Navbar from\"../components/Navbar\";import axios from\"axios\";import{base_url}from\"../config.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.Login=function(event){event.preventDefault();var sendData={username:_this.state.username,password:_this.state.password};var url=base_url+\"/admin/auth\";axios.post(url,sendData).then(function(response){_this.setState({logged:response.data.logged});if(_this.state.logged){var admin=response.data.data;var token=response.data.token;localStorage.setItem(\"admin\",JSON.stringify(admin));localStorage.setItem(\"token\",token);_this.props.history.push(\"/\");}else{_this.setState({message:response.data.message});}}).catch(function(error){return console.log(error);});};_this.state={username:\"\",password:\"\",message:\"\",logged:true};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex h-100 justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 card my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header bg-primary text-white text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Computer Store\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"text-warning\",children:\"Admin Sign In\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[!this.state.logged?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-1\",children:this.state.message}):null,/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(ev){return _this2.Login(ev);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-1\",value:this.state.username,onChange:function onChange(ev){return _this2.setState({username:ev.target.value});}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control mb-1\",value:this.state.password,onChange:function onChange(ev){return _this2.setState({password:ev.target.value});},autoComplete:\"false\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-primary mb-1\",type:\"submit\",children:\"Sign In\"})]})]})]})});}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["E:/XI RPL/Code/Node JS/toko-komputer/frontend/admin-toko-komputer/src/pages/Login.js"],"names":["React","Navbar","axios","base_url","Login","event","preventDefault","sendData","username","state","password","url","post","then","response","setState","logged","data","admin","token","localStorage","setItem","JSON","stringify","props","history","push","message","catch","error","console","log","ev","target","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport Navbar from \"../components/Navbar\"\r\nimport axios from \"axios\"\r\nimport { base_url } from \"../config.js\";\r\n\r\n\r\nexport default class Login extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            message: \"\",\r\n            logged: true\r\n        }\r\n\r\n    }\r\n\r\n    Login = event => {\r\n        event.preventDefault()\r\n        let sendData = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n\r\n        let url = base_url + \"/admin/auth\"\r\n        \r\n\r\n        axios.post(url, sendData)\r\n        .then(response => {\r\n            this.setState({logged: response.data.logged})\r\n            if (this.state.logged) {\r\n                let admin = response.data.data\r\n                let token = response.data.token\r\n                localStorage.setItem(\"admin\", JSON.stringify(admin))\r\n                localStorage.setItem(\"token\", token)\r\n                this.props.history.push(\"/\")\r\n            } else {\r\n                this.setState({message: response.data.message})\r\n            }\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container d-flex h-100 justify-content-center align-items-center\">\r\n                <div className=\"col-sm-6 card my-5\">\r\n                    <div className=\"card-header bg-primary text-white text-center\">\r\n                        <h4>Computer Store</h4>\r\n                        <strong className=\"text-warning\">Admin Sign In</strong>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        { !this.state.logged ? \r\n                        (\r\n                            <div className=\"alert alert-danger mt-1\">\r\n                                { this.state.message }\r\n                            </div>\r\n                        ) : null }\r\n                        <form onSubmit={ev => this.Login(ev)}>\r\n                            <input type=\"text\" className=\"form-control mb-1\" value={this.state.username}\r\n                            onChange={ev => this.setState({username: ev.target.value})} />\r\n                            <input type=\"password\" className=\"form-control mb-1\" value={this.state.password}\r\n                            onChange={ev => this.setState({password: ev.target.value})}\r\n                            autoComplete=\"false\" />\r\n\r\n                            <button className=\"btn btn-block btn-primary mb-1\" type=\"submit\">\r\n                                Sign In\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}